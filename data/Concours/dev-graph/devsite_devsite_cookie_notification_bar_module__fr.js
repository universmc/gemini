(function(_ds){var window=this;var Z_=async function(){if(document.readyState==="loading")return new Promise(a=>{document.addEventListener("DOMContentLoaded",()=>{a()})})},$_=function(a){return!!a&&(a.classList.contains("glue-footer__global-links-list-item")||a.classList.contains("h-c-footer__global-links-list-item"))},a0=function({category:a,siteId:b},c){return d=>d.category===a&&d.siteId===b&&d.eea===c},b0=function(...a){return arguments},d0=function(a,b,c){return b0("consent",a,{ad_storage:c0(c),analytics_storage:c0(b)})},c0=
function(a=!1){return a?"granted":"denied"},f0=function(a,b=!1,c=!1,d=!1){return Object.assign({},{event:"user_consent"},e0(a,b,c,d))},e0=function(a,b=!1,c=!1,d=!1){return{cookieConsent:a==="UNKNOWN"?"none":`${a==="ACCEPTED"}`,isEEA:`${b}`,adsStorage:`${d}`,analyticsStorage:`${c}`}},g0="ar bg ca cs da de el en en-GB es es-419 et eu fi fr fr-CA gl hr hu is it iw ja ko lt lv mt nl no pl pt-BR pt-PT ro ru sk sl sr sv tr uk".split(" ");var h0={xE:"2A",yE:"2B"},i0={Oy:"ACCEPTED",XD:"REJECTED",UNKNOWN:"UNKNOWN"};var j0=class{constructor(a){this.h=a;this.delay=250}debounce(){clearTimeout(this.g);this.g=window.setTimeout(this.h,this.delay)}cancel(){clearTimeout(this.g)}};window.dataLayer=window.dataLayer||[];
var k0=0,l0=function(a,b,c){a.events.dispatchEvent(new CustomEvent(b,{detail:c}))},m0=function(){try{const a=window.localStorage.getItem("glue.CookieNotificationBar"),b=a&&JSON.parse(a);return Array.isArray(b)?b.map(c=>{if(!(c instanceof Object)||Array.isArray(c))return null;const d=c.category;var e=c.date;const f=c.eea,g=c.siteId;c=c.status;return(e=e&&new Date(e))&&!isNaN(Number(e))&&Object.values(h0).includes(d)&&typeof g==="string"&&Object.values(i0).includes(c)?{category:d,date:e,eea:f,siteId:g,
status:c}:null}).filter(c=>!!c):[]}catch(a){return console.error(a),[]}},n0=async function(a){const b=await a.rendered;b instanceof HTMLElement&&a.h&&(a.visible?a.h.style.marginBottom=`${getComputedStyle(b).height}`:a.h.style.marginBottom!=="0px"&&(a.h.style.marginBottom="0px"))},o0=function(a,b){a.controls.push(...document.querySelectorAll(".glue-cookie-notification-bar-control"));for(const c of a.controls)c.addEventListener("click",a.ma),c.removeAttribute("aria-hidden"),c.setAttribute("aria-controls",
a.id),c.setAttribute("aria-expanded","false"),c.textContent=b,c instanceof HTMLButtonElement||c.addEventListener("keydown",a.oa),$_(c.parentElement)&&c.parentElement.removeAttribute("aria-hidden")},p0=class{constructor(a=document.body,b){this.root=a;this.controls=[];this.events=document.createElement("div");this.v=!1;this.j="UNKNOWN";this.ra=!1;this.Aa=c=>{this.g=c.eea;{var d=a0(this.options,this.g);const e=m0().find(d);e?(d=new Date,d.setMonth(d.getMonth()-13),d=e.date>d?e.status:"UNKNOWN"):d="UNKNOWN"}this.j=
c.required||d!=="UNKNOWN"?d:"ACCEPTED";this.options.category==="2A"&&window.dataLayer.unshift(b0("set","url_passthrough",!0),d0("default",!1,!1),d0("update",this.o,this.ea),e0(this.g||!c.required?"UNKNOWN":this.status,this.g,this.o,this.ea));d={required:c.required,status:this.status};this.g&&(d.eea=this.g);l0(this,"loaded",d);if(c.required)return this.listen("statuschange",this.Fa),this.status==="UNKNOWN"&&this.open(),this.render(c)};this.va=c=>{c.preventDefault();this.status="ACCEPTED";this.close()};
this.ma=c=>{c.preventDefault();this.open(!0)};this.oa=c=>{switch(c.key){case "Enter":case " ":c.preventDefault(),this.open(!0)}};this.Ca=c=>{c.preventDefault();this.status="REJECTED";this.close()};this.Fa=({detail:{status:c}})=>{if(this.options.category==="2A"&&!this.g){var d=this.status==="ACCEPTED";window.dataLayer.push(d0("update",this.options.analyticsStorage||d,d),f0(this.status,this.g,this.o,this.ea))}const e=a0(this.options,this.g);d=m0().filter(f=>!e(f));d.push({category:this.options.category,
date:new Date,eea:this.g,siteId:this.options.siteId,status:c});try{window.localStorage.setItem("glue.CookieNotificationBar",JSON.stringify(d))}catch(f){console.error(f)}};this.xa=()=>{n0(this)};this.qa=()=>{this.Ga.debounce()};this.options=Object.assign({},p0.g,b);k0+=1;this.id=`glue-cookie-notification-bar-${k0}`;window.glueCookieNotificationBarLoaded&&this.listen("loaded",window.glueCookieNotificationBarLoaded);this.h=document.querySelector(`.${this.options.autoMarginClass}`);this.Ga=new j0(this.xa);
this.config=this.fetch();this.rendered=this.config.then(this.Aa)}async fetch(){const [a,b]=this.options.language.split(/[-_]/);var c=`${a}-${(b||a).toUpperCase()}`;c=g0.includes(c)?c:g0.includes(a)?a:"";const d=this.options.category==="2A"?"/glue/cookienotificationbar/config/2a.json":"/glue/cookienotificationbar/config/2b.json";try{return await (await fetch(`${"https://www.gstatic.com"}${d}${c?`?hl=${c}`:""}`)).json()}catch(e){return console.error(e),{required:!1}}}async render(a){await Z_();this.root||
(this.root=document.body);const b=Object.assign({},a.content,this.options.content),c=`${this.id}-label`;var d=b.mainText.replace(/\[(.+)\]/,()=>this.options.siteId);const e=document.createElement("div");e.classList.add("glue-cookie-notification-bar");e.id=this.id;e.setAttribute("aria-hidden","true");e.setAttribute("aria-labelledby",c);e.setAttribute("inert","true");e.setAttribute("role","region");e.tabIndex=-1;this.options.language!==a.language&&(e.dir=a.rtl?"rtl":"ltr",e.lang=a.language);const f=
document.createElement("p");f.classList.add("glue-cookie-notification-bar__text");e.appendChild(f);const g=document.createElement("span");g.id=c;g.textContent=`${d} `;f.appendChild(g);d=document.createElement("a");_ds.me(d,b.moreUrl);d.classList.add("glue-cookie-notification-bar__more");d.rel="noopener";d.setAttribute("aria-describedby",c);d.target="_blank";d.textContent=b.moreText;d.ariaLabel=b.moreAriaLabelText;f.appendChild(d);f.appendChild(document.createTextNode(a.language==="ja"?"\u3002":"."));
a=document.createElement("button");a.addEventListener("click",this.va);a.classList.add("glue-cookie-notification-bar__accept");a.textContent=b.consentText;e.appendChild(a);b.rejectText&&(a=document.createElement("button"),a.addEventListener("click",this.Ca),a.classList.add("glue-cookie-notification-bar__reject"),a.textContent=b.rejectText,e.appendChild(a));b.managementText&&o0(this,b.managementText);this.h&&window.addEventListener("resize",this.qa);this.root.prepend(e);return e}get visible(){return this.ra}open(a=
!1){return this.toggle(!0,a)}close(){return this.toggle(!1)}async toggle(a,b=!1){const c=await this.rendered;if(c&&a!==this.visible){if(!this.v){this.v=!0;var d=document.querySelector("html");if(d){({fontSize:d}=window.getComputedStyle(d));var e=Number(d.replace("px",""));window.getComputedStyle(c).fontSize===d&&e<=18&&(c.style.fontSize=`${16/e}rem`)}}a?(c.removeAttribute("aria-hidden"),c.removeAttribute("inert"),b&&c.focus()):(c.setAttribute("aria-hidden","true"),c.setAttribute("inert","true"),c.blur());
b=`${a}`;for(const f of this.controls)f.setAttribute("aria-expanded",b);this.ra=a;l0(this,"visibilitychange",{visible:a});await n0(this)}else c&&a&&b&&c.focus()}listen(a,b){this.events.addEventListener(a,b)}unlisten(a,b){this.events.removeEventListener(a,b)}get status(){return this.j}set status(a){a!==this.j&&(this.j=a,l0(this,"statuschange",{status:a}))}get ua(){return this.status==="ACCEPTED"}get o(){return this.g||this.options.analyticsStorage||this.ua}get ea(){return!this.g&&this.ua}async destroy(){const a=
await this.rendered;(a==null?0:a.parentNode)&&a.parentNode.removeChild(a);for(const b of this.controls)b.removeEventListener("click",this.ma),b.setAttribute("aria-hidden","true"),b instanceof HTMLButtonElement||b.removeEventListener("keydown",this.oa),$_(b.parentElement)&&b.parentElement.setAttribute("aria-hidden","true");this.h&&(this.h.style.marginBottom="0px",window.removeEventListener("resize",this.qa))}static get g(){return{analyticsStorage:!1,category:"2A",language:document.documentElement.lang,
siteId:location.host,autoMarginClass:"glue-footer"}}};var q0=function(){return"devsite-cookie-notification-bar"},s0=function(a){a.g&&(a.g.listen("loaded",async()=>{a.j.resolve();const b=await _ds.v();await b.hasMendelFlagAccess("Analytics","open_cookie_bar")&&a.g&&await a.g.open();await r0(a);await a.hasAccepted()?await b.getStorage().set("cookies_accepted","","true"):(await b.getStorage().remove("cookies_accepted",""),await _ds.to(b.getStorage()))}),a.g.listen("visibilitychange",()=>{r0(a)}),a.g.listen("statuschange",async()=>{const b=await _ds.v();
await a.hasAccepted()?await b.getStorage().get("cookies_accepted","")!=="true"&&await b.getStorage().set("cookies_accepted","","true"):(await b.getStorage().remove("cookies_accepted",""),await _ds.to(b.getStorage()))}))},r0=async function(a){if(a.g){var b=await a.g.rendered;b instanceof HTMLElement&&(await a.isVisible()?document.body.style.setProperty("--devsite-cookie-bar-height",getComputedStyle(b).height):document.body.style.removeProperty("--devsite-cookie-bar-height"))}},t0=class extends _ds.nL{constructor(){super(...arguments);
this.j=new _ds.jf;this.g=null;this.ea=!1}Sa(){return this}async connectedCallback(){super.connectedCallback();await this.setup();s0(this)}disconnectedCallback(){super.disconnectedCallback();if(this.g){let a;(a=this.g)==null||a.destroy()}document.body.style.removeProperty("--devsite-cookie-bar-height");this.j=new _ds.jf}async setup(){const a=await _ds.v(),b=document.documentElement.lang||"en";var c=a.getConfig();const d=_ds.z(c,16),e=_ds.nh(c,30);c=_ds.ih(c,31);e===4?this.g=new p0(this,{category:"2A",
language:b,siteId:d,analyticsStorage:c}):e===3?this.g=new p0(this,{category:"2B",language:b,siteId:d,analyticsStorage:c}):await a.hasMendelFlagAccess("Analytics","open_cookie_bar")?this.g=new p0(this,{category:"2A",language:b,siteId:d,analyticsStorage:c}):(this.ea=!0,this.j.resolve())}async hasAccepted(){await this.ready();if(this.ea)return!0;let a;return((a=this.g)==null?void 0:a.status)==="ACCEPTED"||!1}async isVisible(){await this.ready();let a;return((a=this.g)==null?void 0:a.visible)||!1}ready(){return this.j.promise}async getCookieNotificationBar(){await this.ready();
return this.g}};t0.prototype.getCookieNotificationBar=t0.prototype.getCookieNotificationBar;t0.getTagName=q0;try{window.customElements.define(q0(),t0)}catch(a){console.warn("Unrecognized DevSite custom element - DevsiteCookieNotificationBar",a)};})(_ds_www);
